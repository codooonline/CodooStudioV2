
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Codoo â€“ HTML Playground</title>

<!-- CodeMirror -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/material-darker.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/show-hint.min.css">

<style>
body { margin:0; font-family:system-ui,sans-serif; background:#0f1117; color:#e5e7eb; height:100vh; display:flex; flex-direction:column; }
header{display:flex; justify-content:space-between; align-items:center; padding:12px 16px; background:#161a23; border-bottom:2px solid #222;}
header h1{font-size:22px; margin:0; font-weight:bold;} header h1 span{color:#22d3ee;}
.header-buttons{display:flex; gap:6px; align-items:center;}
header button, #copyBtn{background:#22d3ee; border:none; color:white; padding:6px 12px; border-radius:6px; cursor:pointer; transition:0.2s;}
header button:hover, #copyBtn:hover{background:#06b6d4;}
main{flex:1; display:grid; grid-template-columns:1fr 0fr; min-height:0; position:relative; transition:0.4s;}
.editor{height:100%; width:100%; background:#2d2d2d; border-right:4px solid #222; position:relative; transition:0.4s;}
.editor .CodeMirror { background:#2d2d2d !important; color:#e6e6e6; }
.CodeMirror-cursor { border-left:2px solid #ffffff !important; }
.CodeMirror-selected { background:rgba(255,255,255,0.2) !important; }

.preview{background:white; display:none; position:relative; overflow:hidden; transition:0.4s;}
iframe{width:100%; height:100%; border:none;}

#copyBtn{position:absolute;top:10px; right:10px;}
#menuBtn{background:#161a23; color:#e5e7eb; font-size:20px; padding:6px 10px; border-radius:6px; border:none; cursor:pointer; transition:0.2s;}
#menuBtn:hover{background:#22d3ee; color:white;}
#menu{position:absolute; top:44px; left:0; background:#161a23; border:2px solid #222; border-radius:6px; padding:10px; display:none; flex-direction:column; gap:6px; z-index:10;}
.menu-group{margin-bottom:8px;}
.menu-group label{font-weight:bold;margin-bottom:4px;display:block;}
.menu-group button{background:#22d3ee; color:white; border:none; padding:6px 10px; border-radius:6px; cursor:pointer; transition:0.2s; margin-bottom:4px; width:100%;}
.menu-group button:hover{background:#06b6d4;}

@media(max-width:900px){main{grid-template-columns:1fr;grid-template-rows:1fr 0fr;}.editor{border-right:none;border-bottom:4px solid #222;}}
</style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center;gap:8px;">
    <button id="menuBtn">&#9776;</button>
    <h1>Co<span>Doo</span></h1>
  </div>
  <div class="header-buttons">
    <button id="undoBtn">Undo</button>
    <button id="redoBtn">Redo</button>
    <button id="runBtn">Run</button>
  </div>
</header>

<div id="menu">
  <div class="menu-group">
    <label>&lt;HTML&gt;</label>
    <button data-snippet="html">HTML Boilerplate</button>
    <button data-snippet="buttons">Buttons Demo</button>
  </div>
  <div class="menu-group">
    <label>&lt;CSS&gt;</label>
    <button data-snippet="css">CSS Example</button>
    <button data-snippet="grid">Grid Layout</button>
    <button data-snippet="forms">Forms Example</button>
  </div>
</div>

<main>
  <div class="editor">
    <textarea id="code"></textarea>
    <button id="copyBtn">Copy</button>
  </div>
  <div class="preview">
    <button id="closePreview" style="position:absolute;top:10px;right:10px;padding:6px 12px;border:none;border-radius:6px;background:#22d3ee;color:white;cursor:pointer;">Close Preview</button>
    <iframe id="preview"></iframe>
  </div>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closetag.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/show-hint.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/hint/html-hint.min.js"></script>

<script>
const starterCode = `<!DOCTYPE html>
<html>
<head><style>body{font-family:sans-serif;}</style></head>
<body><h1>Hello Codoo ðŸ‘‹</h1><p>Edit HTML/CSS and click Run to see it.</p></body>
</html>`;

const editor = CodeMirror.fromTextArea(document.getElementById('code'), {
  mode:'htmlmixed', lineNumbers:true, theme:'material-darker',
  tabSize:2, autoCloseTags:true, autoCloseBrackets:true, matchBrackets:true,
  extraKeys:{'Ctrl-Space':'autocomplete','<':function(cm){cm.replaceSelection('<');cm.showHint({completeSingle:false});}}
});
editor.setValue(starterCode);

const iframe = document.getElementById('preview');
const previewDiv = document.querySelector('.preview');

document.getElementById('runBtn').onclick = ()=>{
  previewDiv.style.display='block';
  document.querySelector('main').style.gridTemplateColumns='1fr 1fr';
  const doc = iframe.contentDocument || iframe.contentWindow.document;
  doc.open();
  doc.write(editor.getValue());
  doc.close();
};

document.getElementById('closePreview').onclick = ()=>{
  previewDiv.style.display='none';
  document.querySelector('main').style.gridTemplateColumns='1fr 0fr';
};

document.getElementById('undoBtn').onclick = ()=>editor.undo();
document.getElementById('redoBtn').onclick = ()=>editor.redo();

document.getElementById('copyBtn').onclick = ()=>{
  navigator.clipboard.writeText(editor.getValue());
  alert('Code copied!');
};

const menuBtn = document.getElementById('menuBtn');
const menu = document.getElementById('menu');
menuBtn.onclick = ()=>{ menu.style.display = menu.style.display==='flex'?'none':'flex'; }
menu.querySelectorAll('button').forEach(btn=>{
  btn.onclick = ()=>{
    const val = btn.dataset.snippet;
    if(val==='html') editor.setValue('<!DOCTYPE html>\\n<html>\\n<head>\\n <title>HTML Boilerplate</title>\\n</head>\\n<body>\\n <h1>Hello World</h1>\\n</body>\\n</html>');
    else if(val==='css') editor.setValue('body{font-family:sans-serif;background:#f4f4f4;color:#111;} h1{color:#4f46e5;}');
    else if(val==='buttons') editor.setValue('<button>Click me</button><button>Another</button>');
    else if(val==='grid') editor.setValue('<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;"><div>A</div><div>B</div></div>');
    else if(val==='forms') editor.setValue('<form><input placeholder="Name"><button>Submit</button></form>');
    menu.style.display='none';
  };
});
</script>

</body>
</html>
